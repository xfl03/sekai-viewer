(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[12],{6037:function(e,t,a){"use strict";var r=a(1),n=a(2),c=a(0),o=(a(4),a(3)),i=a(5),l=c.forwardRef((function(e,t){var a=e.classes,i=e.className,l=e.component,s=void 0===l?"div":l,m=Object(n.a)(e,["classes","className","component"]);return c.createElement(s,Object(r.a)({className:Object(o.a)(a.root,i),ref:t},m))}));t.a=Object(i.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(l)},6048:function(e,t,a){"use strict";var r=a(38),n=a(1),c=(a(4),a(60));var o=function(e){var t=function(t){var a=e(t);return t.css?Object(n.a)(Object(n.a)({},Object(c.a)(a,e(Object(n.a)({theme:t.theme},t.css)))),function(e,t){var a={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(a[r]=e[r])})),a}(t.css,[e.filterProps])):a};return t.propTypes={},t.filterProps=["css"].concat(Object(r.a)(e.filterProps)),t};var i=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=function(e){return t.reduce((function(t,a){var r=a(e);return r?Object(c.a)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},l=a(10),s=a(94);function m(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var p=function(e){var t=e.prop,a=e.cssProperty,r=void 0===a?e.prop:a,n=e.themeKey,c=e.transform,o=function(e){if(null==e[t])return null;var a=e[t],o=m(e.theme,n)||{};return Object(s.a)(e,a,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=m(o,e)||e,c&&(t=c(t))),!1===r?t:Object(l.a)({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function d(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var u=i(p({prop:"border",themeKey:"borders",transform:d}),p({prop:"borderTop",themeKey:"borders",transform:d}),p({prop:"borderRight",themeKey:"borders",transform:d}),p({prop:"borderBottom",themeKey:"borders",transform:d}),p({prop:"borderLeft",themeKey:"borders",transform:d}),p({prop:"borderColor",themeKey:"palette"}),p({prop:"borderRadius",themeKey:"shape"})),f=i(p({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),p({prop:"display"}),p({prop:"overflow"}),p({prop:"textOverflow"}),p({prop:"visibility"}),p({prop:"whiteSpace"})),b=i(p({prop:"flexBasis"}),p({prop:"flexDirection"}),p({prop:"flexWrap"}),p({prop:"justifyContent"}),p({prop:"alignItems"}),p({prop:"alignContent"}),p({prop:"order"}),p({prop:"flex"}),p({prop:"flexGrow"}),p({prop:"flexShrink"}),p({prop:"alignSelf"}),p({prop:"justifyItems"}),p({prop:"justifySelf"})),g=i(p({prop:"gridGap"}),p({prop:"gridColumnGap"}),p({prop:"gridRowGap"}),p({prop:"gridColumn"}),p({prop:"gridRow"}),p({prop:"gridAutoFlow"}),p({prop:"gridAutoColumns"}),p({prop:"gridAutoRows"}),p({prop:"gridTemplateColumns"}),p({prop:"gridTemplateRows"}),p({prop:"gridTemplateAreas"}),p({prop:"gridArea"})),y=i(p({prop:"position"}),p({prop:"zIndex",themeKey:"zIndex"}),p({prop:"top"}),p({prop:"right"}),p({prop:"bottom"}),p({prop:"left"})),h=i(p({prop:"color",themeKey:"palette"}),p({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),E=p({prop:"boxShadow",themeKey:"shadows"});function v(e){return e<=1?"".concat(100*e,"%"):e}var j=p({prop:"width",transform:v}),x=p({prop:"maxWidth",transform:v}),O=p({prop:"minWidth",transform:v}),w=p({prop:"height",transform:v}),N=p({prop:"maxHeight",transform:v}),S=p({prop:"minHeight",transform:v}),C=(p({prop:"size",cssProperty:"width",transform:v}),p({prop:"size",cssProperty:"height",transform:v}),i(j,x,O,w,N,S,p({prop:"boxSizing"}))),I=a(6036),k=i(p({prop:"fontFamily",themeKey:"typography"}),p({prop:"fontSize",themeKey:"typography"}),p({prop:"fontStyle",themeKey:"typography"}),p({prop:"fontWeight",themeKey:"typography"}),p({prop:"letterSpacing"}),p({prop:"lineHeight"}),p({prop:"textAlign"})),P=a(2),z=a(0),T=a.n(z),B=a(3),K=a(43),A=a.n(K),H=a(5963);function W(e,t){var a={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(a[r]=e[r])})),a}var R=a(42),F=function(e){var t=function(e){return function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.name,c=Object(P.a)(a,["name"]);var o,i=r,l="function"===typeof t?function(e){return{root:function(a){return t(Object(n.a)({theme:e},a))}}}:{root:t},s=Object(H.a)(l,Object(n.a)({Component:e,name:r||e.displayName,classNamePrefix:i},c));t.filterProps&&(o=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var m=T.a.forwardRef((function(t,a){var r=t.children,c=t.className,i=t.clone,l=t.component,m=Object(P.a)(t,["children","className","clone","component"]),p=s(t),d=Object(B.a)(p.root,c),u=m;if(o&&(u=W(u,o)),i)return T.a.cloneElement(r,Object(n.a)({className:Object(B.a)(r.props.className,d)},u));if("function"===typeof r)return r(Object(n.a)({className:d},u));var f=l||e;return T.a.createElement(f,Object(n.a)({ref:a,className:d},u),r)}));return A()(m,e),m}}(e);return function(e,a){return t(e,Object(n.a)({defaultTheme:R.a},a))}},M=o(i(u,f,b,g,y,h,E,C,I.b,k)),V=F("div")(M,{name:"MuiBox"});t.a=V},6055:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(8);t.a=Object(c.a)(n.a.createElement("path",{d:"M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z"}),"ViewAgenda")},6188:function(e,t,a){"use strict";a.r(t);var r=a(39),n=a(12),c=a(32),o=a(172),i=a(5991),l=a(6037),s=a(40),m=a(5994),p=a(6048),d=a(87),u=a(71),f=a(5995),b=a(5996),g=a(5959),y=a(5999),h=a(6033),E=a(6034),v=a(6023),j=a(6181),x=a(6162),O=a(90),w=a(6055),N=a(0),S=a.n(N),C=a(8),I=Object(C.a)(S.a.createElement("path",{d:"M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z"}),"ViewComfy"),k=a(5997),P=a(5998),z=a(5992),T=a(35),B=a(13),K=a(59),A=a(36),H=a(6040),W=a(92),R=a(5990),F=a(97),M=a(41),V=a(102),_=a(91),L=Object(o.a)((function(e){var t;return{media:{paddingTop:"56.25%"},card:{cursor:"pointer"},subheader:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},agendaWrapper:(t={display:"block"},Object(c.a)(t,e.breakpoints.down("sm"),{maxWidth:"100%"}),Object(c.a)(t,"maxWidth","80%"),Object(c.a)(t,"margin","auto"),Object(c.a)(t,"cursor","pointer"),t),agenda:{padding:"4% 4%"},comfy:{padding:"6% 4%",cursor:"pointer"},comfyPrefix:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"}}}));function D(e,t,a){var r=t.find((function(t){return t.rarity===e.rarity})),n=r.trainingMaxLevel||r.maxLevel,c=e.cardParameters.filter((function(e){return e.cardLevel===n})).reduce((function(e,t){return e+=t.power}),0)+a.filter((function(t){return t.cardId===e.id})).reduce((function(e,t){return e+=t.power1BonusFixed,e+=t.power2BonusFixed,e+=t.power3BonusFixed}),0);return e.rarity>=3&&(c+=e.specialTrainingPower1BonusFixed+e.specialTrainingPower2BonusFixed+e.specialTrainingPower3BonusFixed),c}t.default=function(e){var t=e.contentTransMode,a=L(),c=Object(O.a)(),o=Object(F.a)(),C=Object(B.h)().path,G=Object(R.a)().t,J=Object(M.b)().assetT,q=Object(A.c)("cards"),Q=Object(n.a)(q,1)[0],U=Object(A.c)("gameCharacters"),X=Object(n.a)(U,1)[0],Y=Object(A.c)("cardRarities"),Z=Object(n.a)(Y,1)[0],$=Object(A.c)("cardEpisodes"),ee=Object(n.a)($,1)[0],te=Object(N.useState)([]),ae=Object(n.a)(te,2),re=ae[0],ne=ae[1],ce=Object(A.f)([]),oe=Object(n.a)(ce,3),ie=oe[0],le=oe[1],se=oe[2],me=Object(N.useState)(localStorage.getItem("card-list-grid-view-type")||"grid"),pe=Object(n.a)(me,2),de=pe[0],ue=pe[1],fe=Object(A.f)(0),be=Object(n.a)(fe,3),ge=be[0],ye=be[1],he=be[2],Ee=Object(A.f)(12),ve=Object(n.a)(Ee,2),je=ve[0],xe=ve[1],Oe=Object(A.f)(!0),we=Object(n.a)(Oe,3),Ne=we[1],Se=we[2],Ce=Object(A.f)(!1),Ie=Object(n.a)(Ce,3),ke=Ie[1],Pe=Ie[2],ze=Object(N.useState)(!1),Te=Object(n.a)(ze,2),Be=Te[0],Ke=Te[1],Ae=Object(N.useState)(localStorage.getItem("card-list-filter-sort-type")||"asc"),He=Object(n.a)(Ae,2),We=He[0],Re=He[1],Fe=Object(N.useState)(localStorage.getItem("card-list-filter-sort-by")||"id"),Me=Object(n.a)(Fe,2),Ve=Me[0],_e=Me[1],Le=Object(N.useReducer)(V.a,[]),De=Object(n.a)(Le,2),Ge=De[0],Je=De[1];Object(N.useEffect)((function(){document.title="Card List | Sekai Viewer"}),[]),Object(N.useEffect)((function(){Pe(Boolean(Q.length)&&Boolean(X.length))}),[Pe,Q,X]),Object(N.useEffect)((function(){if(Q.length&&Z.length&&ee.length){var e=Q;switch(Ge.length&&(e=e.filter((function(e){return Ge.includes(e.characterId)}))),Ve){case"id":case"rarity":case"releaseAt":e=Object(r.a)(e).sort((function(e,t){return"asc"===We?e[Ve]-t[Ve]:t[Ve]-e[Ve]}));break;case"power":e=Object(r.a)(e).sort((function(e,t){return"asc"===We?D(e,Z,ee)-D(t,Z,ee):D(t,Z,ee)-D(e,Z,ee)}))}se(e),ne([]),he(0)}}),[Q,Ve,We,he,Z,ee,se,Ge]),Object(N.useEffect)((function(){ie.length&&(ne((function(e){return[].concat(Object(r.a)(e),Object(r.a)(function(e,t,a){return e.slice(a*(t-1),a*t)}(ie,ge,je)))})),Se(!0))}),[ge,je,Se,ie]);var qe=Object(A.d)(t),Qe={grid:function(e){var r=e.data;return r?S.a.createElement(K.b,{to:C+"/"+r.id,style:{textDecoration:"none"}},S.a.createElement(i.a,{className:a.card},S.a.createElement(m.a,{className:a.media,image:"".concat("https://sekai-res.dnaroma.eu","/file/sekai-assets/character/member_small/").concat(r.assetbundleName,"_rip/card_normal.webp"),title:"original"===t?r.prefix:"translated"===t?J("card_prefix:".concat(r.id),r.prefix):r.prefix}),S.a.createElement(l.a,{style:{paddingBottom:"16px"}},S.a.createElement(s.a,{variant:"subtitle1",className:a.subheader},"original"===t?r.prefix:"translated"===t?J("card_prefix:".concat(r.id),r.prefix):r.prefix),S.a.createElement(s.a,{variant:"body2",className:a.subheader,color:"textSecondary"},qe(r.characterId))))):S.a.createElement(i.a,{className:a.card},S.a.createElement(z.a,{variant:"rect",className:a.media}),S.a.createElement(l.a,null,S.a.createElement(s.a,{variant:"subtitle1",className:a.subheader},S.a.createElement(z.a,{variant:"text",width:"90%"})),S.a.createElement(s.a,{variant:"body2",className:a.subheader},S.a.createElement(z.a,{variant:"text",width:"30%"}))))},agenda:function(e){var r=e.data;return r?S.a.createElement(K.b,{to:C+"/"+r.id,className:a.agendaWrapper,style:{textDecoration:"none"}},S.a.createElement(d.a,{className:a.agenda},S.a.createElement(u.a,{container:!0,alignItems:"center",spacing:2,justify:"space-between"},S.a.createElement(u.a,{item:!0,xs:5,md:4,container:!0,direction:"row",spacing:1,justify:"center"},S.a.createElement(u.a,{item:!0,xs:12,md:6},S.a.createElement(H.a,{id:r.id})),r.rarity>=3?S.a.createElement(u.a,{item:!0,xs:12,md:6},S.a.createElement(H.a,{id:r.id,trained:!0})):null),S.a.createElement(u.a,{item:!0,xs:6,md:7},S.a.createElement(s.a,{variant:"body1"},"original"===t?r.prefix:"translated"===t?J("card_prefix:".concat(r.id),r.prefix):r.prefix),S.a.createElement(s.a,{variant:"body2",color:"textSecondary"},qe(r.characterId)))))):S.a.createElement(p.a,{className:a.agendaWrapper},S.a.createElement(d.a,{className:a.agenda},S.a.createElement(u.a,{container:!0,alignItems:"center",spacing:2,justify:"space-between"},S.a.createElement(u.a,{item:!0,xs:5,md:4,container:!0,direction:"row",spacing:1,justify:"center"},S.a.createElement(u.a,{item:!0,xs:12,md:6},S.a.createElement(H.b,null)),S.a.createElement(u.a,{item:!0,xs:12,md:6},S.a.createElement(H.b,null))),S.a.createElement(u.a,{item:!0,xs:6,md:7},S.a.createElement(s.a,{variant:"body1"},S.a.createElement(z.a,{variant:"text",width:"70%"})),S.a.createElement(s.a,{variant:"body2"},S.a.createElement(z.a,{variant:"text",width:"30%"}))))))},comfy:function(e){var r=e.data;return r?S.a.createElement(K.b,{to:C+"/"+r.id,style:{textDecoration:"none"}},S.a.createElement(d.a,{className:a.comfy},S.a.createElement(u.a,{container:!0,direction:"column",alignItems:"center",spacing:2,justify:"space-between"},S.a.createElement(u.a,{item:!0,container:!0,direction:"row",spacing:1,justify:"center"},S.a.createElement(u.a,{item:!0,xs:4},S.a.createElement(H.a,{id:r.id})),r.rarity>=3?S.a.createElement(u.a,{item:!0,xs:4},S.a.createElement(H.a,{id:r.id,trained:!0})):null),S.a.createElement(u.a,{item:!0,style:{width:"100%"}},S.a.createElement(s.a,{classes:{root:a.comfyPrefix},variant:"body1",align:"center"},"original"===t?r.prefix:"translated"===t?J("card_prefix:".concat(r.id),r.prefix):r.prefix),S.a.createElement(s.a,{variant:"body2",align:"center",color:"textSecondary"},qe(r.characterId)))))):S.a.createElement(d.a,{className:a.comfy},S.a.createElement(u.a,{container:!0,direction:"column",alignItems:"center",spacing:2,justify:"space-between"},S.a.createElement(u.a,{item:!0,container:!0,direction:"row",spacing:1,justify:"center"},S.a.createElement(u.a,{item:!0,xs:4},S.a.createElement(H.b,null)),S.a.createElement(u.a,{item:!0,xs:4},S.a.createElement(H.b,null))),S.a.createElement(u.a,{item:!0,style:{width:"100%"}},S.a.createElement(s.a,{classes:{root:a.comfyPrefix},variant:"body1"},S.a.createElement(z.a,{variant:"text",width:"70%",style:{margin:"0 auto"}})),S.a.createElement(s.a,{variant:"body2"},S.a.createElement(z.a,{variant:"text",width:"40%",style:{margin:"0 auto"}})))))}};return S.a.createElement(N.Fragment,null,S.a.createElement(s.a,{variant:"h6",className:c.header},G("common:card")),S.a.createElement(f.a,{className:c.content,maxWidth:"md"},S.a.createElement(u.a,{container:!0,justify:"space-between"},S.a.createElement(b.a,{style:{marginBottom:"1%"}},S.a.createElement(g.a,{onClick:function(){ue("grid"),localStorage.setItem("card-list-grid-view-type","grid")},color:"grid"===de?"primary":"default"},"grid"===de?S.a.createElement(T.k,null):S.a.createElement(T.l,null)),S.a.createElement(g.a,{onClick:function(){ue("agenda"),localStorage.setItem("card-list-grid-view-type","agenda")},color:"agenda"===de?"primary":"default"},"agenda"===de?S.a.createElement(w.a,null):S.a.createElement(T.i,null)),S.a.createElement(g.a,{onClick:function(){ue("comfy"),localStorage.setItem("card-list-grid-view-type","comfy")},color:"comfy"===de?"primary":"default"},"comfy"===de?S.a.createElement(I,null):S.a.createElement(T.j,null))),S.a.createElement(b.a,{color:"primary",style:{marginBottom:"1%"}},S.a.createElement(b.a,{color:"primary",style:{marginBottom:"1%"}},S.a.createElement(g.a,{size:"medium",onClick:function(){return Ke((function(e){return!e}))}},Be?S.a.createElement(T.f,null):S.a.createElement(T.g,null),Be?S.a.createElement(k.a,null):S.a.createElement(P.a,null))))),S.a.createElement(y.a,{in:Be},S.a.createElement(u.a,{container:!0,className:o.filterArea,spacing:1},S.a.createElement(u.a,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between"},S.a.createElement(u.a,{item:!0,xs:12,md:2},S.a.createElement(s.a,{classes:{root:o.filterCaption}},G("filter:character.caption"))),S.a.createElement(u.a,{item:!0,container:!0,xs:12,md:9,spacing:1},Array.from({length:26}).map((function(e,t){return S.a.createElement(u.a,{key:"chara-filter-"+t,item:!0},S.a.createElement(h.a,{clickable:!0,color:Ge.includes(t+1)?"primary":"default",avatar:S.a.createElement(E.a,{alt:qe(t+1),src:_.b["CharaIcon".concat(t+1)]}),label:qe(t+1),onClick:function(){Ge.includes(t+1)?Je({type:"remove",payload:t+1}):Je({type:"add",payload:t+1})}}))})))),S.a.createElement(u.a,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between"},S.a.createElement(u.a,{item:!0,xs:12,md:2},S.a.createElement(s.a,{classes:{root:o.filterCaption}},G("filter:sort.caption"))),S.a.createElement(u.a,{item:!0,container:!0,xs:12,md:9,spacing:1},S.a.createElement(u.a,{item:!0},S.a.createElement(v.a,null,S.a.createElement(j.a,{value:We,onChange:function(e){Re(e.target.value),localStorage.setItem("card-list-filter-sort-type",e.target.value)}},S.a.createElement(x.a,{value:"asc"},G("filter:sort.ascending")),S.a.createElement(x.a,{value:"desc"},G("filter:sort.descending"))))),S.a.createElement(u.a,{item:!0},S.a.createElement(v.a,null,S.a.createElement(j.a,{value:Ve,onChange:function(e){_e(e.target.value),localStorage.setItem("card-list-filter-sort-by",e.target.value)}},S.a.createElement(x.a,{value:"id"},G("common:id")),S.a.createElement(x.a,{value:"rarity"},G("common:rarity")),S.a.createElement(x.a,{value:"releaseAt"},G("common:startAt")),S.a.createElement(x.a,{value:"power"},G("card:power"))))))))),Object(W.a)({viewComponent:Qe[de],callback:function(e,t){ke.current&&(e[0].isIntersecting&&Ne.current&&(!le.current.length||le.current.length>ye.current*xe.current)?(he((function(e){return e+1})),Se(!1)):le.current.length&&le.current.length<=ye.current*xe.current&&t(!1))},data:re,gridSize:{xs:12,sm:6,md:"grid"===de?4:"agenda"===de?12:3}})))}}}]);
//# sourceMappingURL=12.66020fd0.chunk.js.map